diff --git a/lib/elf_py.c b/lib/elf_py.c
index 75d2d6007f83..7c503cfb9db3 100644
--- a/lib/elf_py.c
+++ b/lib/elf_py.c
@@ -293,7 +293,7 @@ static PyObject *elfreloc_getsection(PyObject *self, PyObject *args)
 	if (!w->es)
 		Py_RETURN_NONE;
 
-	if (w->symidx == 0) {
+	if (!w->symvalid || w->symidx == 0) {
 		size_t idx = 0;
 		Elf_Scn *scn;
 
